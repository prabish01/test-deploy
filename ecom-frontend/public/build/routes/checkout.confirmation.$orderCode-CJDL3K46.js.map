{
  "version": 3,
  "sources": ["../../../app/routes/checkout.confirmation.$orderCode.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/checkout.confirmation.$orderCode.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/checkout.confirmation.$orderCode.tsx\");\n  import.meta.hot.lastModified = \"1745508918462.001\";\n}\n// REMIX HMR END\n\nimport { getOrderByCode } from '~/providers/orders/order';\nimport { useLoaderData } from '@remix-run/react';\nimport { CartContents } from '~/components/cart/CartContents';\nimport { CartTotals } from '~/components/cart/CartTotals';\nimport { CheckCircleIcon, XCircleIcon } from '@heroicons/react/24/outline';\nimport { InformationCircleIcon } from '@heroicons/react/24/solid';\nimport { useRevalidator } from '@remix-run/react';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nexport async function loader({\n  params,\n  request\n}) {\n  try {\n    const order = await getOrderByCode(params.orderCode, {\n      request\n    });\n    return {\n      order,\n      error: false\n    };\n  } catch (ex) {\n    return {\n      order: null,\n      error: true\n    };\n  }\n}\nexport default function CheckoutConfirmation() {\n  _s();\n  const {\n    order,\n    error\n  } = useLoaderData();\n  const revalidator = useRevalidator();\n  const [retries, setRetries] = useState(1);\n  const {\n    t\n  } = useTranslation();\n  const orderNotFound = !order && !error;\n  const orderErrored = !order && error;\n  const maxRetries = 5;\n  const retriesExhausted = retries >= maxRetries;\n  const retryTimeout = 2500;\n  const retry = () => {\n    if (!window) return;\n    setRetries(retries + 1);\n    window.setTimeout(() => {\n      if (retries > maxRetries) return;\n      revalidator.revalidate();\n    }, retryTimeout);\n  };\n  useEffect(() => {\n    if (orderErrored) {\n      retry();\n    }\n  }, [order]);\n  useEffect(() => {\n    if (revalidator.state === 'idle' && orderErrored && retries <= maxRetries && retries > 1) {\n      retry();\n    }\n  }, [revalidator.state]);\n  if (orderNotFound) {\n    return <div>\n        <h2 className=\"text-3xl sm:text-5xl font-light tracking-tight text-gray-900 my-8\">\n          {t('checkout.orderNotFound')}\n        </h2>\n      </div>;\n  }\n  if (orderErrored && retriesExhausted) {\n    return <div>\n        <h2 className=\"text-3xl flex items-center space-x-2 sm:text-5xl font-light tracking-tight text-gray-900 my-8\">\n          <XCircleIcon className=\"text-red-600 w-8 h-8 sm:w-12 sm:h-12\"></XCircleIcon>\n          <span>{t('checkout.orderErrorTitle')}</span>\n        </h2>\n        <p className=\"text-lg text-gray-700\">\n          {t('checkout.orderErrorMessage')}\n        </p>\n      </div>;\n  }\n  if (orderErrored) {\n    return <div>\n        <h2 className=\"text-3xl flex items-center space-x-2 sm:text-5xl font-light tracking-tight text-gray-900 my-8\">\n          {t('checkout.orderProcessing')}\n        </h2>\n      </div>;\n  }\n  return <div>\n      <h2 className=\"text-3xl flex items-center space-x-2 sm:text-5xl font-light tracking-tight text-gray-900 my-8\">\n        <CheckCircleIcon className=\"text-green-600 w-8 h-8 sm:w-12 sm:h-12\"></CheckCircleIcon>\n        <span>{t('order.summary')}</span>\n      </h2>\n      <p className=\"text-lg text-gray-700\">\n        {t('checkout.orderSuccessMessage')}{' '}\n        <span className=\"font-bold\">{order.code}</span>\n      </p>\n      {order.active && <div className=\"rounded-md bg-blue-50 p-4 my-8\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <InformationCircleIcon className=\"h-5 w-5 text-blue-400\" aria-hidden=\"true\" />\n            </div>\n            <div className=\"ml-3 flex-1 md:flex md:justify-between\">\n              <p className=\"text-sm text-blue-700\">\n                {t('checkout.paymentMessage')}\n              </p>\n            </div>\n          </div>\n        </div>}\n      <div className=\"mt-12\">\n        <div className=\"mb-6\">\n          <CartContents orderLines={order.lines} currencyCode={order.currencyCode} editable={false} />\n        </div>\n        <CartTotals order={order}></CartTotals>\n      </div>\n    </div>;\n}\n_s(CheckoutConfirmation, \"tvqwXa0ottJT9EtgLm+ecCVIk3k=\", false, function () {\n  return [useLoaderData, useRevalidator, useTranslation];\n});\n_c = CheckoutConfirmation;\nvar _c;\n$RefreshReg$(_c, \"CheckoutConfirmation\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
