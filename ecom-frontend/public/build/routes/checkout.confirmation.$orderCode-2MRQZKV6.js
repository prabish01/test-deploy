import{a as v}from"/build/_shared/chunk-2CHMIQJH.js";import{a as g}from"/build/_shared/chunk-QMODRLB5.js";import"/build/_shared/chunk-EXUR7XYC.js";import{k as y}from"/build/_shared/chunk-BPJTJPQP.js";import{b as h,k as p}from"/build/_shared/chunk-NATW5ST3.js";import{C as f,E as u,a as F,i as l,v as x}from"/build/_shared/chunk-MTQ3NDKQ.js";import{d as n}from"/build/_shared/chunk-2QEWK57A.js";var s=n(F(),1);var e=n(u(),1);function N(){let{order:t,error:m}=x(),i=l(),[o,C]=(0,s.useState)(1),{t:r}=f(),k=!t&&!m,a=!t&&m,c=5,w=o>=c,b=2500,d=()=>{window&&(C(o+1),window.setTimeout(()=>{o>c||i.revalidate()},b))};return(0,s.useEffect)(()=>{a&&d()},[t]),(0,s.useEffect)(()=>{i.state==="idle"&&a&&o<=c&&o>1&&d()},[i.state]),k?(0,e.jsx)("div",{children:(0,e.jsx)("h2",{className:"text-3xl sm:text-5xl font-light tracking-tight text-gray-900 my-8",children:r("checkout.orderNotFound")})}):a&&w?(0,e.jsxs)("div",{children:[(0,e.jsxs)("h2",{className:"text-3xl flex items-center space-x-2 sm:text-5xl font-light tracking-tight text-gray-900 my-8",children:[(0,e.jsx)(p,{className:"text-red-600 w-8 h-8 sm:w-12 sm:h-12"}),(0,e.jsx)("span",{children:r("checkout.orderErrorTitle")})]}),(0,e.jsx)("p",{className:"text-lg text-gray-700",children:r("checkout.orderErrorMessage")})]}):a?(0,e.jsx)("div",{children:(0,e.jsx)("h2",{className:"text-3xl flex items-center space-x-2 sm:text-5xl font-light tracking-tight text-gray-900 my-8",children:r("checkout.orderProcessing")})}):(0,e.jsxs)("div",{children:[(0,e.jsxs)("h2",{className:"text-3xl flex items-center space-x-2 sm:text-5xl font-light tracking-tight text-gray-900 my-8",children:[(0,e.jsx)(h,{className:"text-green-600 w-8 h-8 sm:w-12 sm:h-12"}),(0,e.jsx)("span",{children:r("order.summary")})]}),(0,e.jsxs)("p",{className:"text-lg text-gray-700",children:[r("checkout.orderSuccessMessage")," ",(0,e.jsx)("span",{className:"font-bold",children:t.code})]}),t.active&&(0,e.jsx)("div",{className:"rounded-md bg-blue-50 p-4 my-8",children:(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"flex-shrink-0",children:(0,e.jsx)(y,{className:"h-5 w-5 text-blue-400","aria-hidden":"true"})}),(0,e.jsx)("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:(0,e.jsx)("p",{className:"text-sm text-blue-700",children:r("checkout.paymentMessage")})})]})}),(0,e.jsxs)("div",{className:"mt-12",children:[(0,e.jsx)("div",{className:"mb-6",children:(0,e.jsx)(g,{orderLines:t.lines,currencyCode:t.currencyCode,editable:!1})}),(0,e.jsx)(v,{order:t})]})]})}export{N as default};
