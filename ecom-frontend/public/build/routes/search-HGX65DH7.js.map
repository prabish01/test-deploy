{
  "version": 3,
  "sources": ["../../../app/routes/search.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/search.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/search.tsx\");\n  import.meta.hot.lastModified = \"1745508918462.6458\";\n}\n// REMIX HMR END\n\nimport { useLoaderData, useSubmit } from '@remix-run/react';\nimport { useRef, useState } from 'react';\nimport { FacetFilterTracker } from '~/components/facet-filter/facet-filter-tracker';\nimport { filteredSearchLoaderFromPagination } from '~/utils/filtered-search-loader';\nimport { FiltersButton } from '~/components/FiltersButton';\nimport { ValidatedForm } from 'remix-validated-form';\nimport { withZod } from '@remix-validated-form/with-zod';\nimport { paginationValidationSchema } from '~/utils/pagination';\nimport { FilterableProductGrid } from '~/components/products/FilterableProductGrid';\nimport { useTranslation } from 'react-i18next';\nconst paginationLimitMinimumDefault = 25;\nconst allowedPaginationLimits = new Set([paginationLimitMinimumDefault, 50, 100]);\nconst validator = withZod(paginationValidationSchema(allowedPaginationLimits));\nexport const {\n  filteredSearchLoader: loader\n} = filteredSearchLoaderFromPagination(allowedPaginationLimits, paginationLimitMinimumDefault);\nexport default function Search() {\n  _s();\n  const loaderData = useLoaderData();\n  const {\n    result,\n    resultWithoutFacetValueFilters,\n    term,\n    facetValueIds\n  } = loaderData;\n  const [mobileFiltersOpen, setMobileFiltersOpen] = useState(false);\n  const facetValuesTracker = useRef(new FacetFilterTracker());\n  facetValuesTracker.current.update(result, resultWithoutFacetValueFilters, facetValueIds);\n  const submit = useSubmit();\n  const {\n    t\n  } = useTranslation();\n  return <div className=\"max-w-6xl mx-auto px-4\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-3xl sm:text-5xl font-light tracking-tight text-gray-900 my-8\">\n          {term ? `${t('common.resultsFor')} \"${term}\"` : t('common.allResults')}\n        </h2>\n\n        <FiltersButton filterCount={facetValueIds.length} onClick={() => setMobileFiltersOpen(true)} />\n      </div>\n\n      <ValidatedForm validator={validator} method=\"get\" onChange={e => submit(e.currentTarget, {\n      preventScrollReset: true\n    })}>\n        <FilterableProductGrid allowedPaginationLimits={allowedPaginationLimits} mobileFiltersOpen={mobileFiltersOpen} setMobileFiltersOpen={setMobileFiltersOpen} {...loaderData} />\n      </ValidatedForm>\n    </div>;\n}\n_s(Search, \"kdIHBT+i9LJ0A4NwEBXrX4hIzqs=\", false, function () {\n  return [useLoaderData, useSubmit, useTranslation];\n});\n_c = Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,IAAAA,gBAAiC;AAiCzB;AAtDR,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,4BAA8B,EAAE;AAAA,EACzE;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAAuB;AACvB,cAAY,IAAI,eAAe;AACjC;AAaA,IAAM,gCAAgC;AACtC,IAAM,0BAA0B,oBAAI,IAAI,CAAC,+BAA+B,IAAI,GAAG,CAAC;AAChF,IAAM,YAAY,QAAQ,2BAA2B,uBAAuB,CAAC;AACtE,IAAM;AAAA,EACX,sBAAsB;AACxB,IAAI,mCAAmC,yBAAyB,6BAA6B;AAC9E,SAAR,SAA0B;AAC/B,KAAG;AACH,QAAM,aAAa,cAAc;AACjC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AACJ,QAAM,CAAC,mBAAmB,oBAAoB,QAAI,wBAAS,KAAK;AAChE,QAAM,yBAAqB,sBAAO,IAAI,mBAAmB,CAAC;AAC1D,qBAAmB,QAAQ,OAAO,QAAQ,gCAAgC,aAAa;AACvF,QAAM,SAAS,UAAU;AACzB,QAAM;AAAA,IACJ;AAAA,EACF,IAAI,eAAe;AACnB,SAAO,mDAAC,SAAI,WAAU,0BAClB;AAAA,uDAAC,SAAI,WAAU,qCACb;AAAA,yDAAC,QAAG,WAAU,qEACX,iBAAO,GAAG,EAAE,mBAAmB,MAAM,UAAU,EAAE,mBAAmB,KADvE;AAAA;AAAA;AAAA;AAAA,aAEA;AAAA,MAEA,mDAAC,iBAAc,aAAa,cAAc,QAAQ,SAAS,MAAM,qBAAqB,IAAI,KAA1F;AAAA;AAAA;AAAA;AAAA,aAA6F;AAAA,SAL/F;AAAA;AAAA;AAAA;AAAA,WAMA;AAAA,IAEA,mDAAC,iBAAc,WAAsB,QAAO,OAAM,UAAU,OAAK,OAAO,EAAE,eAAe;AAAA,MACzF,oBAAoB;AAAA,IACtB,CAAC,GACG,6DAAC,yBAAsB,yBAAkD,mBAAsC,sBAA6C,GAAG,cAA/J;AAAA;AAAA;AAAA;AAAA,WAA2K,KAH7K;AAAA;AAAA;AAAA;AAAA,WAIA;AAAA,OAbG;AAAA;AAAA;AAAA;AAAA,SAcL;AACJ;AACA,GAAG,QAAQ,gCAAgC,OAAO,WAAY;AAC5D,SAAO,CAAC,eAAe,WAAW,cAAc;AAClD,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,QAAQ;AAEzB,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["import_react"]
}
