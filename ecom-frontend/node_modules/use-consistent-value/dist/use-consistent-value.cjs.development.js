'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var React = require('react');
var fastDeepEqual = _interopDefault(require('fast-deep-equal'));

// This is used to avoid the warning when doing SSR and using useLayoutEffect

var useSSRLayoutEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;
/**
 * Receives an object or array, after each it update it will check if the value
 * is equal to the last one, in case they are it will keep returning the same
 * reference to the old value, if they are different it will update the stored
 * reference and return the new one
 */

function useConsistentValue(value, compare) {
  if (compare === void 0) {
    compare = fastDeepEqual;
  }

  var _React$useState = React.useState(value),
      consistentValue = _React$useState[0],
      setState = _React$useState[1];

  useSSRLayoutEffect(function () {
    if (compare(value, consistentValue)) return;
    setState(value);
  }, [value]);
  return consistentValue;
}

exports.default = useConsistentValue;
//# sourceMappingURL=use-consistent-value.cjs.development.js.map
