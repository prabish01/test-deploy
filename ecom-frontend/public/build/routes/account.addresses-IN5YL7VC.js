import{a as k}from"/build/_shared/chunk-HZSDWWGA.js";import{a as P}from"/build/_shared/chunk-W4RAFIT5.js";import{a as n}from"/build/_shared/chunk-PYYTX6MH.js";import{a as I}from"/build/_shared/chunk-W4ZSGTTH.js";import{a as B,b as E}from"/build/_shared/chunk-FH6P7PUH.js";import"/build/_shared/chunk-TEQ7JZCS.js";import"/build/_shared/chunk-ZVWHBDYW.js";import"/build/_shared/chunk-VEH472QX.js";import"/build/_shared/chunk-BPJTJPQP.js";import{a as u,d as y,f as N,g as w,i as C,j as S}from"/build/_shared/chunk-NATW5ST3.js";import{C as p,E as l,a as L,k as b,p as m,v,x as c}from"/build/_shared/chunk-MTQ3NDKQ.js";import{d as r}from"/build/_shared/chunk-2QEWK57A.js";var i=r(l(),1);function h(){let{t}=p();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(m,{preventScrollReset:!0,className:"border border-gray-200 p-5 min-h-[220px] h-full w-full flex flex-col justify-between",to:"/account/addresses/new",children:[(0,i.jsx)("span",{className:"text-base-semi",children:t("address.new")}),(0,i.jsx)(w,{className:"w-6 h-6"})]})})}var F=r(L(),1);var e=r(l(),1);function x({address:t,isActive:d=!1}){let f=c(),g=c(),a=c(),[D,A]=(0,F.useState)(!1),{t:s}=p();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n,{isOpen:D,close:()=>A(a.state!=="idle"),children:(0,e.jsxs)(a.Form,{method:"post",preventScrollReset:!0,children:[(0,e.jsx)(n.Title,{children:s("address.deleteModal.title")}),(0,e.jsx)(n.Body,{children:(0,e.jsxs)("div",{className:"space-y-4 my-4",children:[s("address.deleteModal.confirmation"),(0,e.jsx)("input",{type:"hidden",name:"id",value:t.id}),a.data&&(0,e.jsx)(k,{heading:s("address.deleteModal.error"),message:a.data?.message??s("common.defaultError")})]})}),(0,e.jsxs)(n.Footer,{children:[(0,e.jsx)(E,{type:"button",onClick:()=>A(!1),disabled:a.state!=="idle",children:s("common.cancel")}),(0,e.jsx)(I,{type:"submit",name:"_action",value:"deleteAddress",disabled:a.state!=="idle",isSubmitting:a.state!=="idle",children:s("common.yes")})]})]})}),(0,e.jsxs)("div",{className:B("border border-gray-200 p-5 min-h-[220px] h-full w-full flex flex-col justify-between gap-8 transition-colors",{"border-gray-900":d}),children:[(0,e.jsxs)("div",{className:"flex justify-between",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-left text-base-semi",children:t.fullName}),t.company&&(0,e.jsx)("span",{className:"text-small-regular text-gray-700",children:t.company}),(0,e.jsxs)("div",{className:"flex flex-col text-left text-base-regular mt-2",children:[(0,e.jsxs)("span",{children:[t.streetLine1,t.streetLine2&&(0,e.jsxs)("span",{children:[", ",t.streetLine2]})]}),(0,e.jsxs)("span",{children:[t.postalCode,", ",t.city]}),(0,e.jsxs)("span",{children:[t.province&&`${t.province}, `,t.country?.code?.toUpperCase()]})]})]}),(t.defaultShippingAddress||t.defaultBillingAddress)&&(0,e.jsxs)("div",{className:"text-end text-gray-500 uppercase tracking-wider",children:[(0,e.jsx)("span",{className:"block text-sm font-medium",children:s("common.default")}),(0,e.jsxs)("span",{className:"block text-xs mt-1",children:[t.defaultShippingAddress&&s("common.shipping"),t.defaultShippingAddress&&t.defaultBillingAddress&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("br",{}),"&\xA0"]}),t.defaultBillingAddress&&s("common.billing")]})]})]}),(0,e.jsxs)("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[(0,e.jsxs)("div",{className:"flex items-center gap-4",children:[(0,e.jsxs)(m,{role:"button",preventScrollReset:!0,className:"text-gray-700 flex items-center gap-x-2",to:`/account/addresses/${t.id}`,children:[(0,e.jsx)(N,{className:"w-4 h-4"}),s("common.edit")]}),(0,e.jsxs)("button",{type:"button",title:"Delete this address",className:"text-gray-700 flex items-center gap-x-2",disabled:a.state!=="idle",onClick:()=>A(!0),children:[a.state==="idle"?(0,e.jsx)(C,{className:"w-4 h-4"}):(0,e.jsx)(u,{className:"w-4 h-4 animate-spin"}),s("common.remove")]})]}),(!t.defaultShippingAddress||!t.defaultBillingAddress)&&(0,e.jsx)("div",{children:(0,e.jsxs)("span",{className:"text-gray-500 flex gap-4",children:[!t.defaultShippingAddress&&(0,e.jsxs)(f.Form,{method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"id",value:t.id}),(0,e.jsxs)("button",{name:"_action",value:"setDefaultShipping",type:"submit",title:"Set as default shipping address",className:"text-gray-700 flex items-center gap-2",disabled:f.state!=="idle",children:[f.state==="idle"?(0,e.jsx)(S,{className:"w-4 h-4"}):(0,e.jsx)(u,{className:"w-4 h-4 animate-spin"}),s("common.shipping")]})]}),!t.defaultBillingAddress&&(0,e.jsxs)(g.Form,{method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"id",value:t.id}),(0,e.jsxs)("button",{name:"_action",value:"setDefaultBilling",type:"submit",title:"Set as default billing address",className:"text-gray-700 flex items-center gap-2",disabled:g.state!=="idle",children:[g.state==="idle"?(0,e.jsx)(y,{className:"w-4 h-4"}):(0,e.jsx)(u,{className:"w-4 h-4 animate-spin"}),s("common.billing")]})]})]})})]})]})]})}var T=r(P(),1),o=r(l(),1);function M(){let{activeCustomerAddresses:t}=v();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b,{}),(0,o.jsx)("div",{className:"w-full",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 flex-1 mt-4",children:[(0,o.jsx)(h,{}),t?.addresses.map(d=>(0,o.jsx)(x,{address:d},d.id))]})})]})}export{M as default};
